<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="https://niftypm.com/_nuxt/img/nifty-logo-compact.ab551d5.svg" type="image/x-icon">
    <title>Login | Nifty</title>
    <link rel="stylesheet" href="styles/login.css">
</head>

<body>
    <a href="index.html"><img src="https://niftypm.com/_nuxt/img/nifty-logo.eab2f7a.svg" alt="Nifty-logo"></a>
    <div id="main">
        <div>
            <div>
                <p><span>COMING SOON</span> Reporting Dashboard</p>
            </div>
            <div>
                <p>Powerful reporting to keep you on top of your business and workload. Customize your dashboard to gain
                    insights and make informed decisions.</p>
            </div>
            <div>
                <img src="https://nifty.pm/static/media/main.9818dcc508e7ef1f7d96.png" alt="image">
            </div>
        </div>
        <div>
            <form id="sign_in">
                <h2>Log in to your account</h2>
                <label>Email Address *</label>
                <input id="mail" type="email" placeholder="name@company.com">
                <div>
                    <label>Password *</label>
                    <label>Forgot password?</label>
                </div>
                <input id="pwd" type="password" placeholder="Password">
                <input type="submit" value="Log in">
                <a href="https://api.niftypm.com/auth/google?state=">
                    <img src="https://sso.masaischool.com/google.svg" alt="Google_logo">
                    <p>Sign in with Google</p>
                </a>
                <p>Sign in with SSO</p>
                <hr size="1" color="#e1e3ed">
                <p>OR</p>
                <p>Don't have an account?</p>
                <div>
                    <p>Sign up for free</p>
                </div>
            </form>
        </div>
    </div>
</body>

</html>

<script>
    let signInForm = document.querySelector("#sign_in");
    signInForm.addEventListener("submit", getSignInData);
    let users = JSON.parse(localStorage.getItem("usersLS")) || [];

    function getSignInData(event) {
        event.preventDefault();

        let dataMatched = false;

        //checking user exists or not
        users.forEach(function (el) {
            if (el.email == signInForm.mail.value && el.password == signInForm.pwd.value) {
                alert("Sign-in Successfully! üôè welcome");
                dataMatched = true;
                window.location.href = "index.html"
                return;
            }
        })

        //if user not exists then can't sign-in;
        if (!dataMatched) alert("Wrong credentials!");


        signInForm.mail.value = "";
        signInForm.pwd.value = "";
    }
</script>